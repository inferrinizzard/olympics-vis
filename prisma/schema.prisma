generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model country_attendance {
  id               Int          @id @default(autoincrement())
  game             String       @db.VarChar(30)
  country_athletes Json         @db.Json
  games_detail     games_detail @relation(fields: [game], references: [game], onDelete: NoAction, onUpdate: NoAction, map: "fk_country_attendance_game")
}

model country_detail {
  country        String           @id @db.VarChar(3)
  name           String           @db.VarChar(50)
  flag           String
  country_medals country_medals[]
  medal_totals   medal_totals?
}

model country_medals {
  id             Int            @id @default(autoincrement())
  country        String         @db.VarChar(3)
  game           String         @db.VarChar(30)
  gold           Int            @default(0)
  silver         Int            @default(0)
  bronze         Int            @default(0)
  total          Int            @default(0)
  country_detail country_detail @relation(fields: [country], references: [country], onDelete: NoAction, onUpdate: NoAction, map: "fk_country_medals_country")
  games_detail   games_detail   @relation(fields: [game], references: [game], onDelete: NoAction, onUpdate: NoAction, map: "fk_country_medals_game")
}

model games_detail {
  game               String               @id @db.VarChar(30)
  year               Int
  season             String               @db.VarChar(6)
  title              String               @db.VarChar(30)
  emblem             String
  host               String               @db.VarChar(100)
  num_athletes       Int
  start_date         String               @db.VarChar(20)
  end_date           String               @db.VarChar(20)
  country_attendance country_attendance[]
  country_medals     country_medals[]
  sports_events      sports_events[]
}

model medal_totals {
  country        String         @id @db.VarChar(3)
  season         String         @db.VarChar(6)
  gold           Int            @default(0)
  silver         Int            @default(0)
  bronze         Int            @default(0)
  total          Int            @default(0)
  country_detail country_detail @relation(fields: [country], references: [country], onDelete: NoAction, onUpdate: NoAction, map: "fk_medal_totals_country")
}

model sports_detail {
  sport String @id @db.VarChar(3)
  name  String @db.VarChar(30)
  icon  String
}

model sports_events {
  id           Int          @id @default(autoincrement())
  game         String       @db.VarChar(30)
  sport        String       @db.VarChar(3)
  events       Json         @db.Json
  games_detail games_detail @relation(fields: [game], references: [game], onDelete: NoAction, onUpdate: NoAction, map: "fk_sports_events_game")
}
